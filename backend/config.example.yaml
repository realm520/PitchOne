# PitchOne Backend Configuration Example
# Copy this file to config.yaml and fill in your values

# Environment: development, staging, production
environment: development

# Logging Configuration
logging:
  level: info  # debug, info, warn, error
  format: console  # console, json

# Keeper Service Configuration
keeper:
  # Blockchain Configuration
  chain_id: 31337  # 1 for mainnet, 31337 for local anvil
  rpc_endpoint: "http://localhost:8545"
  private_key: ""  # REQUIRED: Keeper operator private key (with 0x prefix)

  # Gas Configuration
  gas_limit: 500000
  max_gas_price: "100"  # Maximum gas price in Gwei

  # Task Scheduling
  task_interval: 60  # Task execution interval in seconds (60s = 1 minute)
  lock_lead_time: 300  # Lock markets N seconds before match start (300s = 5 minutes)
  finalize_delay: 7200  # Delay after match end before settlement (7200s = 2 hours)

  # Concurrency & Retry
  max_concurrent: 10  # Maximum concurrent operations
  retry_attempts: 3  # Number of retry attempts for failed operations
  retry_delay: 5  # Delay between retries in seconds

  # Database Configuration
  database_url: "postgresql://p1:p1@localhost:5432/p1?sslmode=disable"

  # Service Ports
  health_check_port: 8080  # Health check endpoint port
  metrics_port: 9090  # Prometheus metrics endpoint port

  # Feature Flags
  alerts_enabled: false  # Enable alerting system

# Indexer Service Configuration (for reference)
indexer:
  rpc_url: "http://localhost:8545"
  ws_url: "ws://localhost:8546"

  # Contract Addresses
  contracts:
    market_base: "0x5FbDB2315678afecb367f032d93F642f64180aa3"
    oracle: "0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512"

  # Indexing Configuration
  start_block: 0
  batch_size: 1000
  finality_blocks: 12
  polling_interval: 2s

# Database Configuration (shared)
database:
  host: localhost
  port: 5432
  user: p1
  password: p1
  dbname: p1
  sslmode: disable
  max_open_conns: 25
  max_idle_conns: 5
  conn_max_lifetime: 5m
  query_timeout: 30s
