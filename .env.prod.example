# ============================================================================
# PitchOne VPS 部署 - 环境变量配置模板
# ============================================================================
# 使用方法：
#   1. 复制此文件为 .env.prod
#   2. 填写所有必需的配置值
#   3. 运行: docker compose -f docker-compose.prod.yml --env-file .env.prod up -d
#
# 注意：
#   - 带 [REQUIRED] 标记的必须填写
#   - 带 [OPTIONAL] 标记的有默认值，可选填写
#   - 敏感信息（私钥、密码）请妥善保管，勿提交到代码库

# ============================================================================
# 版本控制
# ============================================================================
VERSION=latest

# ============================================================================
# 域名配置 [REQUIRED]
# ============================================================================
# 你的域名（用于 Nginx SSL 证书）
DOMAIN=pitchone.example.com

# ============================================================================
# Backend PostgreSQL 配置
# ============================================================================
# [OPTIONAL] 数据库用户名
POSTGRES_USER=pitchone

# [REQUIRED] 数据库密码 - 请使用强密码
POSTGRES_PASSWORD=your_secure_password_here

# [OPTIONAL] 数据库名
POSTGRES_DB=pitchone

# ============================================================================
# Graph Node PostgreSQL 配置
# ============================================================================
# [OPTIONAL] Graph Node 数据库用户名
GRAPH_POSTGRES_USER=graph-node

# [REQUIRED] Graph Node 数据库密码
GRAPH_POSTGRES_PASSWORD=your_graph_db_password_here

# [OPTIONAL] Graph Node 数据库名
GRAPH_POSTGRES_DB=graph-node

# ============================================================================
# 区块链配置 [REQUIRED]
# ============================================================================
# Ethereum RPC URL (支持 Base Sepolia, Base Mainnet 等)
# 推荐使用 Alchemy 或 Infura
ETHEREUM_RPC_URL=https://base-sepolia.g.alchemy.com/v2/YOUR_ALCHEMY_KEY

# Chain ID
# Base Sepolia: 84532
# Base Mainnet: 8453
CHAIN_ID=84532

# Graph Node 网络名称
GRAPH_ETHEREUM_NETWORK=base-sepolia

# ============================================================================
# 合约地址 [REQUIRED] - 部署合约后填写
# ============================================================================
FACTORY_ADDRESS=0x...
VAULT_ADDRESS=0x...
FEE_ROUTER_ADDRESS=0x...
BETTING_ROUTER_ADDRESS=0x...
REFERRAL_REGISTRY_ADDRESS=0x...
USDC_ADDRESS=0x...

# ============================================================================
# Keeper 私钥 [REQUIRED] - 极其敏感！
# ============================================================================
# Keeper 操作者私钥（带 0x 前缀）
# 此账户需要有足够的 ETH 用于支付 Gas
KEEPER_PRIVATE_KEY=0x...

# ============================================================================
# Keeper 任务配置 [OPTIONAL]
# ============================================================================
# 任务执行间隔（秒）
KEEPER_TASK_INTERVAL=60

# 锁盘提前时间（秒，开赛前多久锁盘）
KEEPER_LOCK_LEAD_TIME=300

# 结算延迟（秒，比赛结束后多久结算）
KEEPER_FINALIZE_DELAY=7200

# Gas 配置
KEEPER_GAS_LIMIT=500000
KEEPER_MAX_GAS_PRICE=100

# ============================================================================
# 第三方 API [OPTIONAL]
# ============================================================================
# Sportradar API Key（赛果数据源）
SPORTRADAR_API_KEY=

# ============================================================================
# Graph Node 配置 [OPTIONAL]
# ============================================================================
# 日志级别: trace, debug, info, warn, error
GRAPH_LOG_LEVEL=info

# 轮询间隔（毫秒）
ETHEREUM_POLLING_INTERVAL=1000

# ============================================================================
# 日志配置 [OPTIONAL]
# ============================================================================
LOG_LEVEL=info
